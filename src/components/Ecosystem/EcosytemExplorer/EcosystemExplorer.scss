.ecosystem-explorer {
	// Scaled back distribution by ~1/3
	$foreground-positions-x: (-420%, -500%, 390%, 320%, -420%, 320%, -320%, 220%, -200%, 100%);
	$foreground-positions-y: (-420%, -207%, -207%, -420%, 107%, 107%, 280%, 280%, 0%, 0%);
	$foreground-positions-length: length($foreground-positions-x);

	// Updated background positions for 6 items
	$background-positions-x: (-300%, -150%, 150%, 300%, 0%, 0%);
	$background-positions-y: (-100%, -200%, -200%, -100%, 200%, -33%);
	$background-positions-length: length($background-positions-x);

	.foreground-icons {
		@for $i from 1 through $foreground-positions-length {
			.item-#{$i} {
				// Fetch the corresponding x and y positions
				$x: nth($foreground-positions-x, $i);
				$y: nth($foreground-positions-y, $i);

				// Slightly larger scale since we brought them closer
				$scale-factor: random(1) + 6; // 6-7 range
				$scale: $scale-factor / 10;

				// Generate a random duration
				$duration: random(4) + 6; // 6-10s duration range

				// Apply the x and y positions
				transform: translateX($x) translateY($y) scale($scale);

				.vertical-anim {
					animation: raiseLower #{$duration}s ease-in-out infinite;
				}

				img {
					transition: transform 0.45s ease-in-out;
				}

				&:hover {
					img {
						transform-origin: center center;
						transition: transform 0.25s ease-in-out;
						transform: scale(1.1);
					}
				}
			}
		}

		// Updated mobile hiding for new layout
		@media (max-width: 768px) {
			.item-7,
			.item-8,
			.item-9,
			.item-10 {
				display: none;
			}
		}
	}

	.background-icons {
		@for $i from 1 through $background-positions-length {
			.item-#{$i} {
				// Fetch the corresponding x and y positions
				$x: nth($background-positions-x, $i);
				$y: nth($background-positions-y, $i);

				// Fixed smaller scale for background
				$scale: 0.7;

				// Generat a rando blur factor between 1 and 4
				$blur-factor: 1;

				// Apply the x and y positions
				transform: translateX($x) translateY($y) scale($scale);
				filter: blur(#{$blur-factor}px);

				.vertical-anim {
					animation: raiseLower 8s ease-in-out infinite;
				}

				// img {
				//   transition: transform 0.45s ease-in-out;
				// }

				// &:hover {
				//   img {
				//     transform-origin: center center;
				//     transition: transform 0.25s ease-in-out;
				//     transform: scale(1.2);
				//   }
				// }
			}
		}
	}
}

@keyframes raiseLower {
	0% {
		transform: translateY(-4px);
	}
	50% {
		transform: translateY(4px);
	}
	100% {
		transform: translateY(-4px);
	}
}
